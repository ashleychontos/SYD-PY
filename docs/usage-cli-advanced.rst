**************
Advanced Usage
**************


Below are examples of how to use specific ``pySYD`` features, as well as plots showing before and after results.


``--dnu``: force dnu
++++++++

+-------------------------------------------------------+---------------------------------------------------------+
| Before                                                | After                                                   |
+=======================================================+=========================================================+
| Fix the dnu value if the desired dnu is not automatically selected by `pySYD`.                                  |
+-------------------------------------------------------+---------------------------------------------------------+
|:bash:`pysyd run --star 9512063 --numax 843`           |:bash:`pysyd run --star 9512063 --numax 843 --dnu 49.54` |
+-------------------------------------------------------+---------------------------------------------------------+
| .. figure:: ../_static/advanced/9512063_before.png    | .. figure:: ../_static/advanced/9512063_after.png       |
|    :width: 680                                        |    :width: 680                                          |
+-------------------------------------------------------+---------------------------------------------------------+


``--ew``: excess width
++++++++

+------------------------------------------------------------------+------------------------------------------------------------------+
| Before                                                           | After                                                            |
+==================================================================+==================================================================+
| Changed the excess width in the background corrected power spectrum used to calculate the ACF (and hence dnu).                      |
+------------------------------------------------------------------+------------------------------------------------------------------+
| :bash:`pysyd run --star 9542776 --numax 900`                     | :bash:`pysyd run --star 9542776 --numax 900 --ew 1.5`            |
+------------------------------------------------------------------+------------------------------------------------------------------+
| .. figure:: ../_static/advanced/9542776_before.png               | .. figure:: ../_static/advanced/9542776_after.png                |
|    :width: 680                                                   |    :width: 680                                                   |
+------------------------------------------------------------------+------------------------------------------------------------------+


``--ie``: smooth echelle
++++++++

+------------------------------------------------------------------+------------------------------------------------------------------+
| Before                                                           | After                                                            |
+==================================================================+==================================================================+
| Smooth echelle diagram by turning on the interpolation, in order to distinguish the modes for low SNR cases.                        |
+------------------------------------------------------------------+------------------------------------------------------------------+
| :bash:`pysyd run 3112889 --numax 871.52 --dnu 53.2`              | :bash:`pysyd run --star 3112889 --numax 871.52 --dnu 53.2 --ie`  |
+------------------------------------------------------------------+------------------------------------------------------------------+
| .. figure:: ../_static/advanced/3112889_before.png               | .. figure:: ../_static/advanced/3112889_after.png                |
|    :width: 680                                                   |    :width: 680                                                   |
+------------------------------------------------------------------+------------------------------------------------------------------+


``--kc``: *Kepler* correction
++++++++

+---------------------------------------------------------------+------------------------------------------------------------------+
| Before                                                        | After                                                            |
+===============================================================+==================================================================+
| Remove *Kepler* artefacts from the power spectrum for an accurate numax estimate.                                                |
+---------------------------------------------------------------+------------------------------------------------------------------+
| :bash:`pysyd run --star 8045442 --numax 550`                  | :bash:`pysyd run --star 8045442 --numax 550 --kc`                |
+---------------------------------------------------------------+------------------------------------------------------------------+
| .. figure:: ../_static/advanced/8045442_before.png            | .. figure:: ../_static/advanced/8045442_after.png                |
|    :width: 680                                                |    :width: 680                                                   |
+---------------------------------------------------------------+------------------------------------------------------------------+


``--lp: lower frequency of power excess``
++++++++

+--------------------------------------------------------------------------+--------------------------------------------------------------------------+
| Before                                                                   | After                                                                    |
+==========================================================================+==========================================================================+
| Set the lower frequency limit in zoomed in power spectrum; useful when an artefact is present close to the excess and cannot be removed otherwise.  |
+--------------------------------------------------------------------------+--------------------------------------------------------------------------+
| :bash:`pysyd run --star 10731424 --numax 750`                            | :bash:`pysyd run --star 10731424 --numax 750 --lp 490`                   |
+--------------------------------------------------------------------------+--------------------------------------------------------------------------+
| .. figure:: ../_static/advanced/10731424_before.png                      | .. figure:: ../_static/advanced/10731424_after.png                       |
|    :width: 680                                                           |    :width: 680                                                           |
+--------------------------------------------------------------------------+--------------------------------------------------------------------------+


:term:`--npeaks<--peaks, --npeaks>`
####################################

+--------------------------------------------------------------------------+--------------------------------------------------------------------------+
| Before                                                                   | After                                                                    |
+==========================================================================+==========================================================================+
| Change the number of peaks chosen in ACF; useful in low SNR cases where the spectrum is noisy and ACF has many peaks close to the expected dnu.     |
+--------------------------------------------------------------------------+--------------------------------------------------------------------------+
| :bash:`pysyd run --star 9455860`                                         | :bash:`pysyd run --star 9455860 --npeaks 10`                             |
+--------------------------------------------------------------------------+--------------------------------------------------------------------------+
| .. figure:: ../_static/advanced/9455860_before.png                       | .. figure:: ../_static/advanced/9455860_after.png                        |
|    :width: 680                                                           |    :width: 680                                                           |
+--------------------------------------------------------------------------+--------------------------------------------------------------------------+


:term:`--numax`
###############

+--------------------------------------------------------+-------------------------------------------------------+
| Before                                                 | After                                                 |
+========================================================+=======================================================+
| Set the numax value if pySYD chooses the wrong excess in the power spectrum.                                   |
+--------------------------------------------------------+-------------------------------------------------------+
| :bash:`pysyd run --star 5791521`                       | :bash:`pysyd run --star 5791521 --numax 670`          |
+--------------------------------------------------------+-------------------------------------------------------+
| .. figure:: ../_static/advanced/5791521_before.png     | .. figure:: ../_static/advanced/5791521_after.png     |
|    :width: 680                                         |    :width: 680                                        |
+--------------------------------------------------------+-------------------------------------------------------+


:term:`--upperx<--ux, --upperx>`
################################

+-----------------------------------------------------+-------------------------------------------------------+
| Before                                              | After                                                 |
+=====================================================+=======================================================+
| Set the upper frequency limit in power spectrum; useful when `pySYD` latches on to an artefact.             |
+-----------------------------------------------------+-------------------------------------------------------+
| :bash:`pysyd run --star 11769801`                   | :bash:`pysyd run --star 11769801 -ux 3500`            |
+-----------------------------------------------------+-------------------------------------------------------+
| .. figure:: ../_static/advanced/11769801_before.png | .. figure:: ../_static/advanced/11769801_after.png    |
|    :width: 680                                      |    :width: 680                                        |
+-----------------------------------------------------+-------------------------------------------------------+
